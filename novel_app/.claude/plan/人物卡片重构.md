# 人物管理页面卡片重构执行计划

## 任务描述
重构人物管理页面中人物卡片的设计，按照视觉优先设计原则，使用图集第一张图片作为头像，如果图集为空显示名字，删除按钮在卡片底部。

## 技术约束
1. 只使用缓存信息，不通过API获取图集
2. 删除操作需要确认对话框
3. 一行2个卡片，高度不要太高
4. 使用现有图片缓存方案，不从服务端获取

## 执行步骤

### 步骤1：扩展Character数据模型
- 文件：lib/models/character.dart
- 添加 cachedImageUrl 字段存储第一张图片的本地路径
- 修改构造函数和相关方法

### 步骤2：扩展DatabaseService
- 文件：lib/services/database_service.dart
- 添加角色图集缓存管理方法
- 实现本地图片缓存和清理
- 数据库迁移支持

### 步骤3：创建图片缓存管理器
- 文件：lib/services/character_image_cache_service.dart
- 实现图片的本地存储和检索
- 管理缓存生命周期和清理

### 步骤4：重构人物卡片组件
- 文件：lib/screens/character_management_screen.dart
- 实现视觉优先的卡片设计
- 集成图片缓存显示逻辑
- 添加删除确认对话框

### 步骤5：优化网格布局
- 调整卡片高度和间距
- 优化响应式布局
- 改进视觉效果和交互

## 预期结果
- 新的视觉优先人物卡片设计
- 高度300px的紧凑卡片
- 图片优先显示，fallback到名字首字母
- 底部删除按钮和编辑交互
- 本地缓存图片管理